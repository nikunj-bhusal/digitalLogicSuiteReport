% === PAGE 1: High-level overview ===
\begin{tikzpicture}[
        class/.style={rectangle, draw=black, fill=white!10, rounded corners, text width=4cm, minimum height=1cm, text centered, font=\sffamily\scriptsize},
        rel/.style={-latex, thick},
        node distance=1.5cm and 1cm
    ]

    % Classes
    \node[class] (App) {App\\
        - \texttt{sf::RenderWindow} window\\
        - \texttt{sf::Font} font\\
        - \texttt{Simulator} simulator\\
        - \texttt{Canvas} canvas\\
        - \texttt{ComponentPalette} palette\\
        + run()
    };

    \node[class, below=of App] (Simulator) {Simulator\\
        - \texttt{Circuit} circuit\\
        - \texttt{Selection} selection\\
        - \texttt{UIManager} ui\\
        - \texttt{ExpressionProcessor} exprProc\\
        + handleEvent()\\
        + update()\\
        + draw()
    };

    \node[class, left=of Simulator] (Canvas) {Canvas\\
        - \texttt{sf::View} view\\
        - \texttt{sf::Vector2f} initialPos\\
        - bool dragging\\
        + handleEvent()\\
        + draw()
    };

    \node[class, right=of Simulator] (Palette) {ComponentPalette\\
        - buttons, selectedIndex, hoveredIndex\\
        - \texttt{sf::View} uiView\\
        - const \texttt{sf::Font*} currentFont\\
        + update()\\
        + draw()
    };

    \node[class, below=of Simulator] (Circuit) {Circuit\\
        - gates, wires\\
        - counters + labels\\
        - const \texttt{sf::Font*} currentFont\\
        + addGate(), addWire()\\
        + evaluateCircuit()\\
        + clearCircuit()
    };

    \node[class, below=of Simulator, left=of Circuit] (Selection) {Selection\\
        - selectedGate, selectedPin\\
        - selectingSource\\
        - selectedGates\\
        + cancelSelection()\\
        + selectGateAt()
    };
    \node[class, below=of Simulator, right=of Circuit] (ExprProc) {ExpressionProcessor\\
        - expression\\
        - variables, varValues, minterms\\
        + setExpression()\\
        + generateTruthTable()\\
        + simplifyExpression()
    };
    \node[class, below=of ExprProc] (UIManager) {UIManager\\
        - inputExpression1, inputExpression2\\
        - activeField\\
        - flags: showTruthTable, etc.\\
        + toggleInputField()\\
        + drawUI()
    };

    \node[class, below=of Circuit] (Gate) {Gate\\
        - type, position\\
        - state, selected\\
        - label\\
        + evaluate()\\
        + getState()
    };

    \node[class, below=of Circuit, left=of Gate] (Wire) {Wire\\
        - srcGate, dstGate\\
        - srcPin, dstPin\\
        + setPositions()\\
        + draw()
    };

    % Relationships
    \draw[rel] (App.south) -- (Simulator.north);
    \draw[rel] (App.south) -- (Canvas.north);
    \draw[rel] (Canvas.east) -- (Simulator.west);
    \draw[rel] (App.south) -- (Palette.north);
    \draw[rel] (Simulator.south) -- (Selection.north);
    \draw[rel] (Simulator) -- (Circuit);
    \draw[rel] (Simulator.south) -- (ExprProc.north);
    \draw[rel] (Simulator.east) -- ++(0.5, 0) -- ++(0, -7.5) -- ++(2.5, 0) -- (UIManager.north);

    \draw[rel] (Palette.south) -- ++(0, -0.5) -- ++(2.5, 0) -- ++(0, -5.5) -- ++(-6, 0) -- (Gate.north);
    \draw[rel] (Circuit) -- (Gate);
    \draw[rel] (Circuit.south) -- (Wire.north);
\end{tikzpicture}
\clearpage